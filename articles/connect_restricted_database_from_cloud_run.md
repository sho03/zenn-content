---
title: "Cloud RunãŒé™çš„IPã‚¢ãƒ‰ãƒ¬ã‚¹ã§CloudSQLã¸æ¥ç¶šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹"
emoji: "ğŸ¤–"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["cloudrun"]
published: false
---

# å•é¡Œ
Cloud Runã‹ã‚‰Cloud SQLã¸æ¥ç¶šã—ãŸã„ãŒã€Cloud SQLå´ã§ã¯IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’åˆ¶é™ã—ã¦ã„ã‚‹ã€‚ãŸã ã—ã€CloudRunã§ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å‹•çš„IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå‰²ã‚ŠæŒ¯ã‚‰ã‚Œã‚‹ãŸã‚ã€ãªã‚“ã‚‰ã‹ã®æ–¹æ³•ã§CloudRunãŒå¤–éƒ¨ã®ãƒªã‚½ãƒ¼ã‚¹ã¸æ¥ç¶šã™ã‚‹éš›ã«é™çš„IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’åˆ©ç”¨ã™ã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚

#ã€€æ–¹æ³•
CloudRunã«VPCã‚¢ã‚¯ã‚»ã‚¹ã‚³ãƒã‚¯ã‚¿ã‚’ä½¿ç”¨ã—ã¦VPCçµŒç”±ã§CloudRunã¸æ¥ç¶šã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚ã¾ãŸã€VPCã¯CloudNATã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§é™çš„IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒåˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

before 
```mermaid

```

after
```mermaid
```

# terraformãƒ•ã‚¡ã‚¤ãƒ«
ä¸Šè¨˜ã¾ã§ã§å®Ÿè·µã—ãŸå†…å®¹ã®terraformãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸‹è¨˜ã«ç¤ºã™ã€‚

[Google Provider](https://registry.terraform.io/providers/hashicorp/google/latest/docs/guides/provider_reference)
[Terraform Settings](https://developer.hashicorp.com/terraform/language/settings)
```tf
```

#ã€€å‚è€ƒè³‡æ–™
https://cloud.google.com/run/docs/configuring/static-outbound-ip?hl=ja
https://blog.g-gen.co.jp/entry/cloudrun-using-static-ip
https://chimbu.medium.com/static-ip-for-google-cloud-cloud-functions-internet-access-serverless-vpc-access-cloud-nat-18cb4b89fb8e
