---
title: "React Routerã§é·ç§»å…ƒã®ãƒ‘ã‚¹ã‚’å–å¾—ã™ã‚‹"
emoji: "ğŸ˜½"
type: "tech"
topics:
  - "react"
  - "typescript"
published: false
---

# åˆã‚ã«
æœ¬è¨˜äº‹ã§ã¯ã€`TypeScript` + `react-router-dom`ã«ãŠã„ã¦ã€ç”»é¢ã‚’é·ç§»ã™ã‚‹éš›ã«é·ç§»å…ˆã¸æƒ…å ±ã‚’å—ã‘æ¸¡ã™æ–¹æ³•ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚

# çµè«–
```jsx
// é·ç§»å…ƒ
const Base = () => {
    const history = useHistory();
    const location = useLocation();
    
    const onClick = () => {
        // history#pushã¯ç¬¬äºŒå¼•æ•°ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æ¸¡ã™ã“ã¨ãŒã§ãã‚‹ã®ã§ã€æ¸¡ã—ãŸã„å€¤ã‚’æ ¼ç´ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚
        history.push("/path/to", {from: loation.pathname})
    };
    
    return (
        <div>
	    <button onClick={onClick}>click</button>
	</div>
    );
}

// é·ç§»å…ˆ
const To = () => {
    // é·ç§»å…ƒã§æ¸¡ã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å—ã‘å–ã‚‹ãŸã‚ã«useLocationã«å‹ã‚’æŒ‡å®šã—ã¾ã™
    const location = useLocation<{ from: string }>();
    const from = location.state && location.state.from;
    
    return (
        <div>
	    { from }
	</div>
    );
}
```

# ã§ãã‚‹ã ã‘è§£èª¬
`useLocation`ã§è¿”ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
```javascript
const location = useLocation();
console.log(location);

{
    hash: ""
    key: "0vhcss"
    pathname: "/path/to"
    search: ""
    state: undefined
}
```
ã“ã“ã§ã€ä»Šå›`state`ã®ä¸­ã«`from`ã‚’è©°ã‚ãŸã‚ã‘ã§ã™ãŒã€ã‚‚ã¨ã‚‚ã¨ã®`state`ã®å‹ã¯`unknown`ã¨ãªã£ã¦ã„ã¾ã™ã€‚

